---
title: 姿态解算基础
date: 2024-06-17 16:18:33
tags: STM32
---

## 姿态解算基础

![image-20240617161945300](https://s2.loli.net/2024/06/17/eqEKhjMzUQIbrkd.png)

区别在于，欧拉角只使用了两个坐标轴，而泰特布莱恩角使用了三个坐标轴。相较而言，泰特布莱恩角更为直观。

旋转次序：欧拉角的旋转次序不可以任意改变，否则通过相同的操作所得到的结果是截然不同的。可以自己举个例子想想。

虽然不太直观，但欧拉角也是可以实现表达任意三维坐标的。如经典的z-x-z坐标，即先绕z轴旋转，再绕x轴旋转，最后绕z轴再次旋转。一个较为直观的思路是，前两次变换是为了找到z轴的最终指向。即先将x轴旋转为与目标z轴与当前z轴所在平面组成的法向量，再通过旋转x轴找到z轴的指向。这时候，x轴和y轴也就在它们最终位置所在的平面内了，然后再旋转z轴即可得到最终的坐标系。

泰特布莱恩角就相对直观（zyx次序），先绕z轴旋转，确定了物体的偏航角，再绕y轴旋转，确定了俯仰角，最后绕x轴旋转，确定了姿态角。

<img src="https://s2.loli.net/2024/06/17/sViTvp5WKGQkRBz.png" alt="image-20240617162756955" style="zoom:50%;" /><img src="https://s2.loli.net/2024/06/17/ZmBvzx6NMteduHF.png" alt="image-20240617162830432" style="zoom:50%;" /><img src="https://s2.loli.net/2024/06/17/oN7VkMLIjQcUsTD.png" alt="image-20240617162855542" style="zoom:50%;" />

（先到此为止吧，有点难了。。。以后有机会再回来写）

主要思路就是通过矩阵运算，得到经过改变后的物体姿态。而在计算姿态的变化量时，还需要通过对时间积分。但因为加速度计等传感器的数值并不稳定，所以需要先经过滤波。且因为加速度计在静止时较为有效，角速度计在运动时较为有效，所以，可以给两个传感器在不同状态下设定不同的权重，使之得到的值更合理。
