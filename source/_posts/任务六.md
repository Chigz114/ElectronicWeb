---
title: 任务六——软件读写MPU6050
date: 2025-01-07 15:21:02
categories: 2024每周任务
tags: 电子设计社团
top_img: https://patchwiki.biligame.com/images/blhx/c/cf/6tj18cxvk0h6rh0s3l2nczv8zggspm1.png
cover: https://patchwiki.biligame.com/images/blhx/c/cf/6tj18cxvk0h6rh0s3l2nczv8zggspm1.png
---

## 软件读写MPU6050

**任务概述：**用I2C通讯协议，读写MPU6050六轴姿态传感器

**任务要求：**

①读取MPU6050六轴姿态传感器的三轴加速度和三轴角速度的原始值，并在OLED屏幕上实时显示。

②（可选）在显示数据后发现，在静止状态下，传感器获得的数据值与我们的预期并不相符。如，加速度沿z轴，但x，y轴的加速度值非零且较大（有时可以达到0.2g左右）；静止状态下角速度测量值并不为0，而是在一个值附近跳变。请尝试写一段代码，将它们的测量值改为正常的预期值。暂时不需要考虑跳变的测量误差，仅需将测量值的平均值调至预期值附近即可。

**视频教程：**江协科技10.1，10.2，10.3

**任务注意点：**

①看例程源码中的`MyI2C.c`文件，为什么称这样的信号输出和输入方式为“软件”I2C？它是如何通过软件的方式模拟I2C通讯协议的读写过程的？

②看源码中的`MPU6050.c`程序，如何设置MPU6050中的陀螺仪和加速度计的量程？寄存器的不同值分别代表了什么量程？采样分频寄存器如何使用？

③源码中的`MPU6050.c`中`#define MPU6050_ADDRESS 0xD0`,此处的`0xD0`是什么值？为什么它有时候会被配置为`0xD1`或`0x68`？

④看main函数中MPU6050_GetData()函数，为什么它调用变量时，不是直接调用变量名，而是在变量名前加上`&`符号？这与直接调用变量的函数有什么区别？
